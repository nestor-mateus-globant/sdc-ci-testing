language: java
dist: trusty

jdk:
- oraclejdk8
- openjdk8


#script:
# add --update-snapshots if snapshots are used
#- mvn clean install -Psecurity-checks -Dmaven.javadoc.skip=true --batch-mode --show-version
# the following command line builds the project, runs the tests with coverage and then execute the SonarCloud analysis
#- if [[ "$TRAVIS_PULL_REQUEST" = "false" ]]; then mvn clean org.jacoco:jacoco-maven-plugin:prepare-agent install sonar:sonar; fi


addons:
  sonarcloud:
    organization: "nestor-mateus-globant" # the key of the org you chose at step #3
    token:
      secure: a655b83c70c6403fd86d149a017c9119442cf78d # encrypted value of your token
    #code_climate:
      #repo_token: 9e5485644e68817249c41efc4ae4064ef45db50a

#after_success:
script:
  # other script steps might be done before running the actual analysis
  - sonar-scanner -X
  #- sonar-scanner -Dsonar.projectKey=$PROYECT_KEY -Dsonar.sources=. -Dsonar.organization=nestor-mateus-globant


#jobs:
  #include:
    #- stage: "Run Tests & SonarCloud Analysis"
     # script:
      #  - sonar-scanner